{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/Github%20Projects/AWS-Monitor/src/hooks/useAwsCredentials.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\n\nexport interface AwsCredential {\n  id: string;\n  name: string;\n  accountId?: string;\n  accessKeyId: string;\n  secretAccessKey: string;\n  region: string;\n  createdAt?: string;\n}\n\nexport interface UseAwsCredentialsResult {\n  credentials: AwsCredential[];\n  selectedCredential: AwsCredential | null;\n  selectCredential: (id: string) => void;\n  addCredential: (credential: Omit<AwsCredential, 'id'>) => Promise<void>;\n  updateCredential: (id: string, data: Partial<Omit<AwsCredential, 'id'>>) => Promise<void>;\n  deleteCredential: (id: string) => Promise<void>;\n  loading: boolean;\n  isLoading: boolean; // Alias for loading - needed for compatibility\n  error: string | null;\n  refresh: () => Promise<void>;\n}\n\nexport function useAwsCredentials(): UseAwsCredentialsResult {\n  const [credentials, setCredentials] = useState<AwsCredential[]>([]);\n  const [selectedCredentialId, setSelectedCredentialId] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Function to fetch credentials from the API\n  const fetchCredentials = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/aws/credentials');\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        const errorMessage = errorData.error || `Falha ao buscar credenciais: Código ${response.status}`;\n        throw new Error(errorMessage);\n      }\n      \n      const data = await response.json();\n      setCredentials(data);\n      \n      // If we have credentials but none selected, select the first one\n      if (data.length > 0 && !selectedCredentialId) {\n        setSelectedCredentialId(data[0].id);\n        // Save to localStorage\n        localStorage.setItem('selectedAwsCredentialId', data[0].id);\n      }\n      \n      return data;\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : String(err);\n      setError(`Erro ao buscar credenciais: ${errorMessage}`);\n      return [];\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Function to select a credential\n  const selectCredential = (id: string) => {\n    setSelectedCredentialId(id);\n    localStorage.setItem('selectedAwsCredentialId', id);\n  };\n\n  // Function to add a new credential\n  const addCredential = async (credential: Omit<AwsCredential, 'id'>) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Criar um objeto com o formato esperado pela API\n      const apiCredential = {\n        name: credential.name,\n        accessKeyId: credential.accessKeyId,\n        secretKey: credential.secretAccessKey, // Renomear o campo para secretKey\n        region: credential.region\n      };\n      \n      const response = await fetch('/api/aws/credentials', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(apiCredential),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        const errorMessage = errorData.error || `Falha ao adicionar credencial: Código ${response.status}`;\n        throw new Error(errorMessage);\n      }\n      \n      await fetchCredentials();\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : String(err);\n      setError(`Erro ao adicionar credencial: ${errorMessage}`);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Function to update an existing credential\n  const updateCredential = async (id: string, data: Partial<Omit<AwsCredential, 'id'>>) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await fetch(`/api/aws/credentials/${id}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        const errorMessage = errorData.error || `Falha ao atualizar credencial: Código ${response.status}`;\n        throw new Error(errorMessage);\n      }\n      \n      await fetchCredentials();\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : String(err);\n      setError(`Erro ao atualizar credencial: ${errorMessage}`);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Function to delete a credential\n  const deleteCredential = async (id: string) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await fetch(`/api/aws/credentials/${id}`, {\n        method: 'DELETE',\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        const errorMessage = errorData.error || `Falha ao excluir credencial: Código ${response.status}`;\n        throw new Error(errorMessage);\n      }\n      \n      // If we delete the selected credential, select another one\n      if (id === selectedCredentialId) {\n        const remainingCredentials = credentials.filter(c => c.id !== id);\n        if (remainingCredentials.length > 0) {\n          selectCredential(remainingCredentials[0].id);\n        } else {\n          setSelectedCredentialId(null);\n          localStorage.removeItem('selectedAwsCredentialId');\n        }\n      }\n      \n      await fetchCredentials();\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : String(err);\n      setError(`Erro ao excluir credencial: ${errorMessage}`);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load credentials on mount\n  useEffect(() => {\n    // Try to restore selected credential from localStorage\n    const savedCredentialId = localStorage.getItem('selectedAwsCredentialId');\n    if (savedCredentialId) {\n      setSelectedCredentialId(savedCredentialId);\n    }\n    \n    fetchCredentials();\n  }, []);\n\n  // Find the selected credential object\n  const selectedCredential = credentials.find(c => c.id === selectedCredentialId) || null;\n\n  return {\n    credentials,\n    selectedCredential,\n    selectCredential,\n    addCredential,\n    updateCredential,\n    deleteCredential,\n    loading,\n    isLoading: loading, // Alias for loading\n    error,\n    refresh: fetchCredentials,\n  };\n} "],"names":[],"mappings":";;;AAEA;;AAFA;;AA2BO,SAAS;;IACd,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB,EAAE;IAClE,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAChF,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,6CAA6C;IAC7C,MAAM,mBAAmB;QACvB,IAAI;YACF,WAAW;YACX,SAAS;YACT,MAAM,WAAW,MAAM,MAAM;YAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACvD,MAAM,eAAe,UAAU,KAAK,IAAI,CAAC,oCAAoC,EAAE,SAAS,MAAM,EAAE;gBAChG,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,eAAe;YAEf,iEAAiE;YACjE,IAAI,KAAK,MAAM,GAAG,KAAK,CAAC,sBAAsB;gBAC5C,wBAAwB,IAAI,CAAC,EAAE,CAAC,EAAE;gBAClC,uBAAuB;gBACvB,aAAa,OAAO,CAAC,2BAA2B,IAAI,CAAC,EAAE,CAAC,EAAE;YAC5D;YAEA,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG,OAAO;YACjE,SAAS,CAAC,4BAA4B,EAAE,cAAc;YACtD,OAAO,EAAE;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,kCAAkC;IAClC,MAAM,mBAAmB,CAAC;QACxB,wBAAwB;QACxB,aAAa,OAAO,CAAC,2BAA2B;IAClD;IAEA,mCAAmC;IACnC,MAAM,gBAAgB,OAAO;QAC3B,IAAI;YACF,WAAW;YACX,SAAS;YAET,kDAAkD;YAClD,MAAM,gBAAgB;gBACpB,MAAM,WAAW,IAAI;gBACrB,aAAa,WAAW,WAAW;gBACnC,WAAW,WAAW,eAAe;gBACrC,QAAQ,WAAW,MAAM;YAC3B;YAEA,MAAM,WAAW,MAAM,MAAM,wBAAwB;gBACnD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACvD,MAAM,eAAe,UAAU,KAAK,IAAI,CAAC,sCAAsC,EAAE,SAAS,MAAM,EAAE;gBAClG,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM;QACR,EAAE,OAAO,KAAK;YACZ,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG,OAAO;YACjE,SAAS,CAAC,8BAA8B,EAAE,cAAc;YACxD,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,4CAA4C;IAC5C,MAAM,mBAAmB,OAAO,IAAY;QAC1C,IAAI;YACF,WAAW;YACX,SAAS;YAET,MAAM,WAAW,MAAM,MAAM,CAAC,qBAAqB,EAAE,IAAI,EAAE;gBACzD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACvD,MAAM,eAAe,UAAU,KAAK,IAAI,CAAC,sCAAsC,EAAE,SAAS,MAAM,EAAE;gBAClG,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM;QACR,EAAE,OAAO,KAAK;YACZ,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG,OAAO;YACjE,SAAS,CAAC,8BAA8B,EAAE,cAAc;YACxD,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,kCAAkC;IAClC,MAAM,mBAAmB,OAAO;QAC9B,IAAI;YACF,WAAW;YACX,SAAS;YAET,MAAM,WAAW,MAAM,MAAM,CAAC,qBAAqB,EAAE,IAAI,EAAE;gBACzD,QAAQ;YACV;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACvD,MAAM,eAAe,UAAU,KAAK,IAAI,CAAC,oCAAoC,EAAE,SAAS,MAAM,EAAE;gBAChG,MAAM,IAAI,MAAM;YAClB;YAEA,2DAA2D;YAC3D,IAAI,OAAO,sBAAsB;gBAC/B,MAAM,uBAAuB,YAAY,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;gBAC9D,IAAI,qBAAqB,MAAM,GAAG,GAAG;oBACnC,iBAAiB,oBAAoB,CAAC,EAAE,CAAC,EAAE;gBAC7C,OAAO;oBACL,wBAAwB;oBACxB,aAAa,UAAU,CAAC;gBAC1B;YACF;YAEA,MAAM;QACR,EAAE,OAAO,KAAK;YACZ,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG,OAAO;YACjE,SAAS,CAAC,4BAA4B,EAAE,cAAc;YACtD,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,4BAA4B;IAC5B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,uDAAuD;YACvD,MAAM,oBAAoB,aAAa,OAAO,CAAC;YAC/C,IAAI,mBAAmB;gBACrB,wBAAwB;YAC1B;YAEA;QACF;sCAAG,EAAE;IAEL,sCAAsC;IACtC,MAAM,qBAAqB,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,yBAAyB;IAEnF,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA,WAAW;QACX;QACA,SAAS;IACX;AACF;GAhLgB","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file://E%3A/Github%20Projects/AWS-Monitor/src/hooks/useAlerts.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport { useAwsCredentials } from \"./useAwsCredentials\";\r\n\r\ninterface Alert {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  resourceId: string;\r\n  resourceType: string;\r\n  severity: string;\r\n  status: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  credentialId?: string;\r\n  credential?: {\r\n    name: string;\r\n  };\r\n}\r\n\r\ninterface AlertFilters {\r\n  status?: string;\r\n  severity?: string;\r\n  resourceType?: string;\r\n  credentialId?: string;\r\n}\r\n\r\ninterface UseAlertsResult {\r\n  alerts: Alert[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  filters: AlertFilters;\r\n  setFilters: (filters: AlertFilters) => void;\r\n  fetchAlerts: () => Promise<void>;\r\n  dismissAlert: (id: string) => Promise<boolean>;\r\n  resolveAlert: (id: string) => Promise<boolean>;\r\n}\r\n\r\nexport function useAlerts(): UseAlertsResult {\r\n  const { selectedCredential } = useAwsCredentials();\r\n  const [alerts, setAlerts] = useState<Alert[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [filters, setFilters] = useState<AlertFilters>({});\r\n\r\n  const fetchAlerts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      let url = \"/api/alerts\";\r\n      const params = new URLSearchParams();\r\n      \r\n      if (filters.status) {\r\n        params.append(\"status\", filters.status);\r\n      }\r\n      if (filters.severity) {\r\n        params.append(\"severity\", filters.severity);\r\n      }\r\n      if (filters.resourceType) {\r\n        params.append(\"resourceType\", filters.resourceType);\r\n      }\r\n      // Use the selected credential or a specific credentialId from filters\r\n      const credentialId = filters.credentialId || selectedCredential?.id;\r\n      if (credentialId) {\r\n        params.append(\"credentialId\", credentialId);\r\n      }\r\n      \r\n      if (params.toString()) {\r\n        url += `?${params.toString()}`;\r\n      }\r\n      \r\n      console.log('Buscando alertas em:', url);\r\n      const response = await fetch(url);\r\n      \r\n      if (!response.ok) {\r\n        const { error } = await response.json();\r\n        throw new Error(error || \"Erro ao buscar alertas\");\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Alertas recebidos:', data.alerts?.length || 0);\r\n      setAlerts(data.alerts || []);\r\n    } catch (err) {\r\n      console.error('Erro ao buscar alertas:', err);\r\n      setError(err instanceof Error ? err.message : \"Erro ao buscar alertas\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, selectedCredential]);\r\n\r\n  const updateAlertStatus = useCallback(async (id: string, action: \"dismiss\" | \"resolve\") => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await fetch(\"/api/alerts\", {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          id,\r\n          action,\r\n        }),\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const { error } = await response.json();\r\n        throw new Error(error || `Erro ao ${action === \"dismiss\" ? \"arquivar\" : \"resolver\"} alerta`);\r\n      }\r\n      \r\n      // Atualizar lista de alertas\r\n      await fetchAlerts();\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : `Erro ao ${action === \"dismiss\" ? \"arquivar\" : \"resolver\"} alerta`);\r\n      return false;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [fetchAlerts]);\r\n\r\n  const dismissAlert = useCallback((id: string) => {\r\n    return updateAlertStatus(id, \"dismiss\");\r\n  }, [updateAlertStatus]);\r\n\r\n  const resolveAlert = useCallback((id: string) => {\r\n    return updateAlertStatus(id, \"resolve\");\r\n  }, [updateAlertStatus]);\r\n\r\n  // Buscar alertas ao montar o componente ou quando os filtros ou a credencial selecionada mudarem\r\n  useEffect(() => {\r\n    fetchAlerts();\r\n  }, [fetchAlerts, selectedCredential]);\r\n\r\n  return {\r\n    alerts,\r\n    loading,\r\n    error,\r\n    filters,\r\n    setFilters,\r\n    fetchAlerts,\r\n    dismissAlert,\r\n    resolveAlert,\r\n  };\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file://E%3A/Github%20Projects/AWS-Monitor/src/app/dashboard/security/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { useAlerts } from \"@/hooks/useAlerts\";\nimport { motion } from \"framer-motion\";\nimport { useState, useEffect, useCallback, useMemo, useRef } from \"react\";\nimport { useAwsCredentials } from \"@/hooks/useAwsCredentials\";\nimport { \n  Bell, AlertTriangle, AlertCircle, Info, \n  CheckCircle, XCircle, Archive, Shield, \n  Search, Filter, RefreshCw, Trash2 as TrashIcon, \n  User, Key, Lock, Database, Server,\n  BarChart as BarChartIcon, PieChart as PieChartIcon,\n  ChevronRight, ChevronDown, Eraser,\n  Check, Slash, Clock, HardDrive, Cloud,\n  FileText, Users, Settings, AlertOctagon,\n  X as XMarkIcon, ExternalLink, Loader2 as SpinnerIcon,\n  ArrowRight as ArrowRightIcon, \n  RefreshCw as ArrowPathIcon,\n  Shield as ShieldExclamationIcon,\n  Filter as FunnelIcon,\n  Search as MagnifyingGlassIcon,\n  Info as InformationCircleIcon,\n  AlertTriangle as ExclamationTriangleIcon,\n  AlertCircle as ExclamationCircleIcon,\n  Database as CircleStackIcon,\n  Key as KeyIcon,\n  Server as ServerIcon,\n  Archive as ArchiveBoxIcon,\n  Cog as Cog6ToothIcon,\n  ChevronDown as ChevronDownIcon,\n  ChevronUp as ChevronUpIcon,\n  Settings as AdjustmentsHorizontalIcon,\n  Calendar as CalendarIcon\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useSearchParams } from \"next/navigation\";\nimport { \n  ResponsiveContainer, \n  PieChart, \n  Pie, \n  Cell, \n  BarChart, \n  Bar, \n  XAxis, \n  YAxis, \n  Tooltip, \n  Legend, \n  CartesianGrid,\n  LineChart,\n  Line,\n  AreaChart,\n  Area\n} from \"recharts\";\nimport CredentialSelector from \"@/components/aws/CredentialSelector\";\nimport { AnimatePresence } from 'framer-motion';\n\n// Define Alert type to fix TypeScript errors\ntype Alert = {\n  id: string;\n  title: string;\n  description: string;\n  severity: string;\n  status: string;\n  createdAt: string;\n  resourceId: string;\n  resourceType: string;\n};\n\n// Remove the entire neon styles section\n// Replace with more simple vibrant color styles\nconst colorStyles = `\n  /* Vibrant color effects */\n  .text-effect-red {\n    color: #ef4444;\n  }\n  .text-effect-orange {\n    color: #f97316;\n  }\n  .text-effect-yellow {\n    color: #eab308;\n  }\n  .text-effect-blue {\n    color: #3b82f6;\n  }\n  .text-effect-violet {\n    color: #8b5cf6;\n  }\n  .text-effect-green {\n    color: #22c55e;\n  }\n  .text-effect-gray {\n    color: #9ca3af;\n  }\n  .text-effect-indigo {\n    color: #6366f1;\n  }\n  .text-effect-cyan {\n    color: #06b6d4;\n  }\n\n  /* Button hover effects */\n  .button-effect-indigo {\n    transition: all 0.2s ease;\n  }\n  .button-effect-indigo:hover {\n    background-color: rgba(99, 102, 241, 0.7);\n  }\n  \n  .button-effect-green {\n    transition: all 0.2s ease;\n  }\n  .button-effect-green:hover {\n    background-color: rgba(34, 197, 94, 0.7);\n  }\n  \n  .button-effect-gray {\n    transition: all 0.2s ease;\n  }\n  .button-effect-gray:hover {\n    background-color: rgba(156, 163, 175, 0.7);\n  }\n  \n  /* Destaque para novos alertas */\n  @keyframes highlightPulse {\n    0% {\n      box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);\n    }\n    70% {\n      box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);\n    }\n    100% {\n      box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);\n    }\n  }\n  \n  .highlight-pulse {\n    animation: highlightPulse 1.5s ease-in-out 3;\n    border: 1px solid rgba(239, 68, 68, 0.7);\n    transition: all 0.3s ease;\n  }\n`;\n\n// Add missing function for status badge colors\nconst getStatusBadgeColor = (status: string): string => {\n  switch (status) {\n    case 'OPEN':\n    case 'active':\n      return 'bg-blue-100 text-blue-800';\n    case 'IN_PROGRESS':\n      return 'bg-yellow-100 text-yellow-800';\n    case 'RESOLVED':\n      return 'bg-green-100 text-green-800';\n    case 'DISMISSED':\n      return 'bg-gray-100 text-gray-800';\n    default:\n      return 'bg-gray-100 text-gray-800';\n  }\n};\n\n// Add LineGraph component since it's missing\nconst LineGraph = ({ data, xKey, yKey, xLabel, yLabel, color }: any) => {\n  return (\n    <ResponsiveContainer width=\"100%\" height=\"100%\">\n      <LineChart\n        data={data}\n        margin={{\n          top: 5,\n          right: 30,\n          left: 20,\n          bottom: 5,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey={xKey} label={{ value: xLabel, position: 'insideBottom', offset: -5 }} />\n        <YAxis label={{ value: yLabel, angle: -90, position: 'insideLeft' }} />\n        <Tooltip />\n        <Line type=\"monotone\" dataKey={yKey} stroke={color} activeDot={{ r: 8 }} />\n      </LineChart>\n    </ResponsiveContainer>\n  );\n};\n\nexport default function SecurityPage() {\n  const { selectedCredential } = useAwsCredentials();\n  const { \n    alerts, \n    loading, \n    error, \n    filters, \n    setFilters, \n    dismissAlert, \n    resolveAlert,\n    fetchAlerts\n  } = useAlerts();\n  \n  const searchParams = useSearchParams();\n  const categoryParam = searchParams.get('category');\n\n  // Ref para controlar o ciclo de scans completos\n  const cyclesToFullScan = useRef<number>(10); // Iniciar com 10 ciclos (5 minutos)\n\n  const [cleanupLoading, setCleanupLoading] = useState(false);\n  const [cleanupMessage, setCleanupMessage] = useState<string | null>(null);\n  const [showCleanupMessage, setShowCleanupMessage] = useState(false);\n  const [showFilters, setShowFilters] = useState(false);\n  const [actionLoading, setActionLoading] = useState<string | null>(null);\n  const [iamScanLoading, setIamScanLoading] = useState(false);\n  const [ec2CleanupLoading, setEc2CleanupLoading] = useState(false);\n  const [iamScanMessage, setIamScanMessage] = useState<string | null>(null);\n  const [showIamScanMessage, setShowIamScanMessage] = useState(false);\n  const [activeCategory, setActiveCategory] = useState<string>('all'); // 'all', 'iam', 'ec2', etc.\n  const [timeRange, setTimeRange] = useState<string>('week');\n  const [viewMode, setViewMode] = useState<'dashboard' | 'list'>('dashboard');\n  const [expandedSections, setExpandedSections] = useState<string[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [severityFilters, setSeverityFilters] = useState<Record<string, boolean>>({\n    'CRITICAL': true,\n    'HIGH': true,\n    'MEDIUM': true,\n    'LOW': true,\n    'INFO': true\n  });\n  const [statusFilters, setStatusFilters] = useState<Record<string, boolean>>({\n    'OPEN': true,\n    'IN_PROGRESS': true,\n    'RESOLVED': true,\n    'DISMISSED': false\n  });\n  \n  // Estado para controlar o modal de detalhes do alerta\n  const [alertDetailsModal, setSelectedAlert] = useState<Alert | null>(null);\n  const [showModal, setShowModal] = useState(false);\n\n  // Estados para atualização em tempo real\n  const [autoRefresh, setAutoRefresh] = useState<boolean>(true);\n  const [refreshInterval, setRefreshInterval] = useState<number>(30); // segundos\n  const [lastAlertId, setLastAlertId] = useState<string | null>(null);\n  const [newAlertsCount, setNewAlertsCount] = useState<number>(0);\n  const [newAlerts, setNewAlerts] = useState<Alert[]>([]);\n  const [highlightedAlerts, setHighlightedAlerts] = useState<string[]>([]);\n  \n  // Estado para controlar verificações iniciais\n  const [initialScanCompleted, setInitialScanCompleted] = useState<boolean>(false);\n\n  // Adicionar um estado para gerenciar os alertas localmente\n  const [localAlerts, setLocalAlerts] = useState<Alert[]>([]);\n\n  // Estado para controlar a visibilidade do menu de configuração de auto refresh\n  const [showRefreshMenu, setShowRefreshMenu] = useState(false);\n\n  // Estado para controlar o escaneamento de vulnerabilidades\n  const [scanning, setScanningUnified] = useState(false);\n  \n  // Estado para filtrar alertas por severidade\n  const [severityFilter, setSeverityFilter] = useState<SeverityType[]>(['CRITICAL', 'HIGH', 'MEDIUM', 'LOW']);\n  \n  // Função para alternar a exibição do menu de refresh\n  const toggleRefreshMenu = (e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevenir que o clique afete o botão de auto refresh\n    setShowRefreshMenu(prev => !prev);\n  };\n  \n  // Função para configurar o intervalo de refresh\n  const setRefreshRate = (seconds: number) => {\n    setRefreshInterval(seconds);\n    setShowRefreshMenu(false);\n    // Reiniciar o ciclo com o novo intervalo\n    if (autoRefresh) {\n      // Feedback visual da alteração\n      setCleanupMessage(`Intervalo de atualização alterado para ${seconds} segundos`);\n      setShowCleanupMessage(true);\n      \n      setTimeout(() => {\n        setShowCleanupMessage(false);\n      }, 3000);\n    }\n  };\n\n  // Função para alternar o filtro de severidade\n  const toggleSeverityFilter = (severity: SeverityType) => {\n    if (severityFilter.includes(severity)) {\n      setSeverityFilter(severityFilter.filter(s => s !== severity));\n    } else {\n      setSeverityFilter([...severityFilter, severity]);\n    }\n  };\n\n  // Fechar o menu quando clicar fora dele\n  useEffect(() => {\n    const handleClickOutside = () => {\n      if (showRefreshMenu) {\n        setShowRefreshMenu(false);\n      }\n    };\n    \n    // Adicionar o handler apenas quando o menu estiver aberto\n    if (showRefreshMenu) {\n      document.addEventListener('click', handleClickOutside);\n    }\n    \n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [showRefreshMenu]);\n\n  // Atualizar useEffect para sincronizar os alertas da API com os alertas locais\n  useEffect(() => {\n    // Se não há credencial, limpar alertas\n    if (!selectedCredential?.id) {\n      setLocalAlerts([]);\n      setLastAlertId(null);\n      return;\n    }\n    \n    // Substitui completamente os alertas locais com os alertas da API\n    // Isso é seguro aqui porque estamos obtendo a lista completa da API\n    setLocalAlerts(alerts);\n    \n    // Se houver alertas, armazena o ID do mais recente\n    if (alerts.length > 0 && !lastAlertId) {\n      setLastAlertId(alerts[0].id);\n    }\n  }, [alerts, lastAlertId, selectedCredential]);\n\n  // Função para fechar o modal\n  const closeModal = () => {\n    setShowModal(false);\n    setSelectedAlert(null);\n  };\n\n  // Função para abrir o modal com o alerta selecionado\n  const openAlertDetails = (alert: Alert) => {\n    // Prevenção defensiva - não abrir se não tiver dados\n    if (!alert || !alert.id) {\n      console.error(\"Tentativa de abrir modal com alerta inválido:\", alert);\n      return;\n    }\n    \n    // Definir primeiro o alerta e depois o estado do modal para garantir que os dados estejam prontos\n    setSelectedAlert(alert);\n    \n    // Usar um setTimeout para garantir que o setSelectedAlert seja processado primeiro\n    setTimeout(() => {\n      setShowModal(true);\n      console.log(\"Modal aberto para alerta:\", alert.id); // Log para debugging\n    }, 10);\n  };\n\n  // Função para fechar o modal com detalhes do alerta\n  const handleCloseModal = (e?: React.MouseEvent) => {\n    // Se o evento foi passado, impedir a propagação\n    if (e) {\n      e.stopPropagation();\n    }\n    \n    // Fechar o modal primeiro, depois limpar o alerta selecionado\n    setShowModal(false);\n    \n    // Atrasar a limpeza do alerta selecionado para evitar flashes visuais\n    setTimeout(() => {\n      setSelectedAlert(null);\n    }, 300); // Tempo suficiente para a animação de fechamento\n  };\n\n  // Corrigir a função checkForNewAlerts para usar o estado localAlerts e tipar corretamente as variáveis\n  const checkForNewAlerts = useCallback(async () => {\n    if (!autoRefresh || loading) return;\n\n    // Se não há credencial selecionada, limpar os alertas em vez de tentar buscar\n    if (!selectedCredential?.id) {\n      // Limpar os alertas quando a credencial é removida\n      if (localAlerts.length > 0) {\n        setLocalAlerts([]);\n        setLastAlertId(null);\n        setNewAlertsCount(0);\n        setCleanupMessage(\"Credencial AWS removida. Os alertas foram limpos.\");\n        setShowCleanupMessage(true);\n      }\n      return;\n    }\n\n    try {\n      // Construir a URL com os mesmos filtros que estão sendo usados atualmente\n      let url = \"/api/alerts\";\n      const params = new URLSearchParams();\n      \n      // Adicionar os filtros atuais\n      if (activeCategory !== 'all') {\n        params.append(\"resourceType\", activeCategory);\n      }\n      \n      // Adicionar o ID da credencial selecionada\n      params.append(\"credentialId\", selectedCredential.id);\n      \n      // Se temos um último alerta conhecido, pegamos apenas os mais recentes que esse\n      if (lastAlertId) {\n        params.append(\"after_id\", lastAlertId);\n      }\n      \n      if (params.toString()) {\n        url += `?${params.toString()}`;\n      }\n      \n      const response = await fetch(url);\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"Falha ao verificar novos alertas\");\n      }\n      \n      const data = await response.json();\n      \n      // Verificar se data.alerts existe para evitar erros de tipo\n      if (!data || !Array.isArray(data.alerts)) {\n        console.error(\"Formato inesperado de resposta:\", data);\n        throw new Error(\"Formato de resposta inválido\");\n      }\n      \n      const freshAlerts: Alert[] = data.alerts;\n      \n      if (freshAlerts.length > 0) {\n        // Armazenar o ID do alerta mais recente\n        setLastAlertId(freshAlerts[0].id);\n        setNewAlertsCount(prev => prev + freshAlerts.length);\n        \n        // Adicionar novos alertas no topo da lista, evitando duplicatas\n        setLocalAlerts(prev => {\n          // Criar um Set com os IDs dos alertas atuais para verificação rápida\n          const existingIds = new Set(prev.map(alert => alert.id));\n          \n          // Filtrar apenas os alertas que não existem na lista atual\n          const uniqueNewAlerts = freshAlerts.filter(alert => !existingIds.has(alert.id));\n          \n          // Retornar a nova lista combinada, sem duplicatas\n          return [...uniqueNewAlerts, ...prev];\n        });\n        \n        // Marcar os novos alertas para destacar\n        setHighlightedAlerts(freshAlerts.map(alert => alert.id));\n        \n        // Remover o destaque após 5 segundos\n        setTimeout(() => {\n          setHighlightedAlerts([]);\n        }, 5000);\n      }\n    } catch (error) {\n      console.error(\"Erro ao verificar novos alertas:\", error);\n      // Não mostrar o erro para o usuário se for devido à credencial ter sido removida\n      if (selectedCredential?.id) {\n        setCleanupMessage(`Erro ao verificar alertas: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\n        setShowCleanupMessage(true);\n      }\n    }\n  }, [autoRefresh, loading, lastAlertId, activeCategory, selectedCredential, localAlerts.length]);\n\n  // Função modificada para verificar ameaças de EC2 em segundo plano\n  const handleScanEC2Threats = async () => {\n    if (!selectedCredential) {\n      setCleanupMessage(\"Selecione uma credencial AWS para realizar a verificação\");\n      setShowCleanupMessage(true);\n      return;\n    }\n\n    // Mostrar notificação de início do scan em background\n    setCleanupMessage(\"Verificação de EC2 iniciada em segundo plano. Você será notificado quando estiver completa.\");\n    setShowCleanupMessage(true);\n    \n    // Definir flag para evitar escaneamentos duplicados\n    let scanInProgress = true;\n    \n    // Função que será executada de forma assíncrona em segundo plano\n    const runBackgroundScan = async () => {\n      try {\n        // Não bloqueamos a UI com setEC2CleanupLoading mais\n        // Apenas executamos o scan em background\n        const response = await fetch('/api/alerts/ec2/scan', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            credentialId: selectedCredential.id,\n            skipExisting: true // Ignorar alertas já existentes\n          })\n        });\n        \n        if (!response.ok) {\n          const data = await response.json();\n          throw new Error(data.error || 'Erro ao verificar ameaças do EC2');\n        }\n        \n        const result = await response.json();\n        \n        // Quando o scan terminar, atualizar os alertas sem interromper a UI\n        await fetchAlerts();\n        \n        // Exibir notificação suave com resultado\n        setCleanupMessage(`Verificação de EC2 concluída: ${result.alertsCreated} novos alertas encontrados.`);\n        setShowCleanupMessage(true);\n        \n        // Se encontrou novos alertas, mostra highlights\n        if (result.alertsCreated > 0) {\n          // Apenas recarregar se encontrou novos alertas\n          setNewAlertsCount(prev => prev + result.alertsCreated);\n          \n          // Destacar novos alertas apenas se estiver na categoria EC2\n          if (activeCategory === 'ec2' || activeCategory === 'all') {\n            // Atualizar a UI delicadamente\n            setTimeout(() => {\n              // Buscar apenas os novos alertas para adicionar aos atuais sem recarregar tudo\n              checkForNewAlerts();\n            }, 500);\n          }\n        }\n      } catch (error) {\n        console.error(\"Erro no scan de EC2 em background:\", error);\n        setCleanupMessage(`Erro na verificação de EC2 em segundo plano: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\n        setShowCleanupMessage(true);\n      } finally {\n        scanInProgress = false;\n      }\n    };\n    \n    // Executar o scan em segundo plano\n    runBackgroundScan();\n  };\n\n  // Modificar a função de verificação IAM para executar em segundo plano\n  const performIAMScan = async (skipExisting: boolean = false) => {\n    if (!selectedCredential) {\n      setIamScanMessage(\"Selecione uma credencial AWS para realizar a verificação\");\n      setShowIamScanMessage(true);\n      return;\n    }\n\n    // Mostrar notificação de início do scan em background\n    setIamScanMessage(\"Verificação de IAM iniciada em segundo plano. Você será notificado quando estiver completa.\");\n    setShowIamScanMessage(true);\n    \n    // Definir flag para evitar escaneamentos duplicados\n    let scanInProgress = true;\n    \n    // Função que será executada de forma assíncrona em segundo plano\n    const runBackgroundScan = async () => {\n      try {\n        // Não bloqueamos a UI com setIamScanLoading mais\n        // Apenas executamos o scan em background\n        const response = await fetch('/api/alerts/iam', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            credentialId: selectedCredential.id,\n            skipExisting: skipExisting // Parâmetro para ignorar alertas existentes\n          })\n        });\n        \n        if (!response.ok) {\n          const data = await response.json();\n          throw new Error(data.error || 'Erro ao verificar ameaças do IAM');\n        }\n        \n        const result = await response.json();\n        \n        // Quando o scan terminar, atualizar os alertas sem interromper a UI\n        await fetchAlerts();\n        \n        // Exibir notificação suave com resultado\n        setIamScanMessage(`Verificação de IAM concluída: ${result.alertsCreated} novos alertas encontrados.`);\n        setShowIamScanMessage(true);\n        \n        // Se encontrou novos alertas, mostra highlights\n        if (result.alertsCreated > 0) {\n          // Apenas recarregar se encontrou novos alertas\n          setNewAlertsCount(prev => prev + result.alertsCreated);\n          \n          // Destacar novos alertas apenas se estiver na categoria IAM\n          if (activeCategory === 'iam' || activeCategory === 'all') {\n            // Atualizar a UI delicadamente\n            setTimeout(() => {\n              // Buscar apenas os novos alertas para adicionar aos atuais sem recarregar tudo\n              checkForNewAlerts();\n            }, 500);\n          }\n        }\n      } catch (error) {\n        console.error(\"Erro no scan de IAM em background:\", error);\n        setIamScanMessage(`Erro na verificação de IAM em segundo plano: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\n        setShowIamScanMessage(true);\n      } finally {\n        scanInProgress = false;\n      }\n    };\n    \n    // Executar o scan em segundo plano\n    runBackgroundScan();\n  };\n  \n  // Atualizar a função handleScanIAMThreats para usar a nova função\n  const handleScanIAMThreats = async () => {\n    await performIAMScan(false); // Sem pular existentes quando acionado manualmente\n  };\n\n  // Configurar o intervalo para verificar novos alertas e executar scans periódicos\n  useEffect(() => {\n    if (!autoRefresh) return;\n    \n    // Função para realizar um ciclo completo de verificação\n    const runCompleteCycle = async () => {\n      // Se não há credencial selecionada, limpar alertas e sair\n      if (!selectedCredential?.id) {\n        // Limpar os alertas quando não há credencial\n        if (localAlerts.length > 0) {\n          setLocalAlerts([]);\n          setLastAlertId(null);\n          setNewAlertsCount(0);\n        }\n        return;\n      }\n      \n      // Primeiro verificar novos alertas (operação leve)\n      await checkForNewAlerts();\n      \n      // A cada 5 minutos (10 ciclos de 30s), executar um scan completo se tivermos uma credencial\n      if (selectedCredential?.id) {\n        // Usar um contador de ciclos armazenado em uma ref para controlar quando fazer scans completos\n        cyclesToFullScan.current -= 1;\n        \n        // Exibir contagem regressiva quando faltar pouco para o próximo scan\n        if (cyclesToFullScan.current <= 3 && cyclesToFullScan.current > 0) {\n          console.log(`Próximo scan automático em ${cyclesToFullScan.current * 30} segundos...`);\n        }\n        \n        if (cyclesToFullScan.current <= 0) {\n          console.log(\"Executando scan automático em segundo plano...\");\n          \n          // Executar um scan periódico usando fetch direto em vez de chamar runUnifiedBackgroundScan\n          try {\n            // Mostrar notificação de início do scan em background\n            setCleanupMessage(\"Verificação automática de segurança iniciada. Você será notificado quando novos alertas forem encontrados.\");\n            setShowCleanupMessage(true);\n            \n            const response = await fetch('/api/alerts/scan', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                credentialId: selectedCredential.id,\n                skipExisting: true // Pular alertas existentes em scans automáticos\n              })\n            });\n            \n            if (!response.ok) {\n              throw new Error('Falha na verificação automática');\n            }\n            \n            // Atualizar a mensagem para indicar que o scan foi iniciado com sucesso\n            setCleanupMessage(\"Verificação automática iniciada com sucesso. Monitorando alertas...\");\n            setShowCleanupMessage(true);\n            \n            // Configurar verificações periódicas para novos alertas após iniciar o scan\n            const scanCheckInterval = setInterval(async () => {\n              // Cancelar o intervalo se a credencial for removida\n              if (!selectedCredential?.id) {\n                clearInterval(scanCheckInterval);\n                return;\n              }\n              \n              const previousCount = newAlertsCount;\n              await checkForNewAlerts();\n              \n              // Se encontramos novos alertas, informar o usuário\n              if (newAlertsCount > previousCount) {\n                setCleanupMessage(`Novos alertas de segurança encontrados (${newAlertsCount - previousCount})! Verificação continua em segundo plano.`);\n                setShowCleanupMessage(true);\n                \n                // Reproduzir um som ou fazer um flash na tela para chamar atenção (opcional)\n                // document.getElementById('alert-sound')?.play();\n                \n                // Destacar a área de novos alertas\n                const alertsSection = document.querySelector('.alerts-section');\n                if (alertsSection) {\n                  alertsSection.classList.add('highlight-pulse');\n                  setTimeout(() => {\n                    alertsSection.classList.remove('highlight-pulse');\n                  }, 3000);\n                }\n              }\n            }, 5000); // Verificar a cada 5 segundos durante 1 minuto\n            \n            // Limpar o intervalo após um tempo razoável (60 segundos)\n            setTimeout(() => {\n              clearInterval(scanCheckInterval);\n              \n              // Não executar se a credencial foi removida\n              if (!selectedCredential?.id) return;\n              \n              // Verificação final\n      checkForNewAlerts();\n              \n              if (newAlertsCount > 0) {\n                setCleanupMessage(`Verificação automática concluída. ${newAlertsCount} novos alertas foram encontrados e carregados.`);\n              } else {\n                setCleanupMessage(\"Verificação automática concluída. Nenhum novo alerta encontrado.\");\n              }\n              setShowCleanupMessage(true);\n              \n              // Reiniciar o contador após um scan bem-sucedido\n              cyclesToFullScan.current = 10; // 10 ciclos de 30s = 5 minutos\n            }, 60000);\n            \n          } catch (error) {\n            console.error(\"Erro ao executar scan automático:\", error);\n            \n            // Não mostrar o erro para o usuário se for devido à credencial ter sido removida\n            if (selectedCredential?.id) {\n              setCleanupMessage(`Erro na verificação automática: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\n              setShowCleanupMessage(true);\n            }\n            \n            // Ainda reseta o contador, mas com valor menor para tentar novamente mais cedo\n            cyclesToFullScan.current = 4; // Tentar novamente em 2 minutos\n          }\n        }\n      }\n    };\n    \n    // Executar imediatamente na primeira vez\n    runCompleteCycle();\n    \n    // Configurar o intervalo\n    const intervalId = setInterval(runCompleteCycle, refreshInterval * 1000);\n    \n    return () => clearInterval(intervalId);\n  }, [autoRefresh, refreshInterval, checkForNewAlerts, selectedCredential, newAlertsCount, localAlerts.length]);\n\n  // Resetar contador de novos alertas quando o usuário visualiza a página\n  const resetNewAlertsCounter = () => {\n    setNewAlertsCount(0);\n  };\n\n  // Limpar os indicadores de novos alertas quando o usuário interage com a página\n  useEffect(() => {\n    window.addEventListener('click', resetNewAlertsCounter);\n    return () => {\n      window.removeEventListener('click', resetNewAlertsCounter);\n    };\n  }, []);\n\n  // Atualizar manualmente e limpar o contador\n  const handleManualRefresh = async () => {\n    resetNewAlertsCounter();\n    // Limpa o estado anterior para evitar potencial duplicação\n    setLocalAlerts([]);\n    await fetchAlerts();\n    if (alerts.length > 0) {\n      setLastAlertId(alerts[0].id);\n    }\n  };\n\n  // Alternar atualização automática\n  const toggleAutoRefresh = () => {\n    setAutoRefresh(prev => !prev);\n  };\n\n  // Modificar a verificação automática ao carregar a página para usar o scan unificado\n  useEffect(() => {\n    // Carregar alertas existentes primeiro\n    const initPage = async () => {\n      await fetchAlerts();\n      \n      // Armazenar o ID do alerta mais recente, se houver\n      if (alerts.length > 0) {\n        setLastAlertId(alerts[0].id);\n      }\n      \n      // Verificar se já completou a verificação inicial para evitar duplicações\n      // E também verificar se há uma credencial válida selecionada\n      if (selectedCredential && selectedCredential.id && !initialScanCompleted) {\n        // Realizar verificação unificada em segundo plano sem bloquear a UI\n        console.log(\"Agendando verificação unificada inicial em segundo plano...\");\n        \n        // Usamos setTimeout para garantir que a UI seja carregada primeiro\n        setTimeout(() => {\n          // Iniciar o scan unificado em background\n          runUnifiedBackgroundScan(true);\n          \n          // Marcar que a verificação inicial foi agendada\n          setInitialScanCompleted(true);\n        }, 1000); // Iniciar após 1 segundo de carregamento da UI\n      }\n    };\n    \n    initPage();\n  }, [selectedCredential]);\n\n  // Nova função unificada para executar scan em background usando o endpoint unificado\n  const runUnifiedBackgroundScan = async (skipExisting: boolean = true) => {\n    if (!selectedCredential || !selectedCredential.id) {\n      setCleanupMessage(\"Selecione uma credencial AWS para realizar a verificação\");\n      setShowCleanupMessage(true);\n      return;\n    }\n\n    // Mostrar notificação de início do scan em background\n    setCleanupMessage(\"Verificação de segurança unificada iniciada em segundo plano. Você será notificado quando novos alertas forem encontrados.\");\n    setShowCleanupMessage(true);\n    \n    try {\n      const response = await fetch('/api/alerts/scan', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          credentialId: selectedCredential.id,\n          skipExisting: skipExisting\n        })\n      });\n      \n      if (!response.ok) {\n        const data = await response.json();\n        if (response.status === 401) {\n          setCleanupMessage(`Erro de credenciais: ${data.error || 'Credenciais AWS inválidas ou com permissões insuficientes'}`);\n          setShowCleanupMessage(true);\n          return;\n        }\n        throw new Error(data.error || 'Erro ao iniciar verificação de segurança unificada');\n      }\n      \n      const result = await response.json();\n      console.log(\"Scan unificado iniciado:\", result);\n      \n      // Configurar um intervalo para verificar novos alertas periodicamente\n      // sem precisar esperar pelo término do scan\n      const checkInterval = setInterval(async () => {\n        const previousCount = newAlertsCount;\n        await checkForNewAlerts();\n        \n        // Se encontramos novos alertas, informar o usuário\n        if (newAlertsCount > previousCount) {\n          setCleanupMessage(`Novos alertas de segurança encontrados (${newAlertsCount - previousCount}). A verificação continua em segundo plano.`);\n          setShowCleanupMessage(true);\n        }\n      }, 5000); // Verificar a cada 5 segundos\n      \n      // Limpar o intervalo após um tempo razoável (2 minutos)\n      setTimeout(() => {\n        clearInterval(checkInterval);\n        // Verificação final\n        checkForNewAlerts();\n        setCleanupMessage(\"Verificação de segurança concluída. Todos os novos alertas foram carregados.\");\n        setShowCleanupMessage(true);\n      }, 120000);\n      \n    } catch (error) {\n      console.error(\"Erro ao iniciar scan unificado:\", error);\n      setCleanupMessage(`Erro ao iniciar verificação unificada: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\n      setShowCleanupMessage(true);\n    }\n  };\n\n  // Função para determinar a categoria de um alerta com base no tipo de recurso\n  const getAlertCategory = (resourceType: string): string => {\n    if (resourceType.startsWith('IAM') || resourceType === 'SecretManagerSecret') {\n      return 'iam';\n    } else if (resourceType.startsWith('EC2') || resourceType === 'SecurityGroup' || \n              resourceType === 'Volume' || resourceType === 'VPC' || \n              resourceType.includes('Gateway') || resourceType === 'Subnet' || \n              resourceType === 'RouteTable' || resourceType === 'NetworkInterface' || \n              resourceType === 'ElasticIP' || resourceType === 'NetworkACL' ||\n              resourceType.includes('ACL')) {\n      return 'ec2';\n    } else if (resourceType.startsWith('S3') || resourceType.includes('Bucket')) {\n      return 's3';\n    } else if (resourceType.startsWith('RDS') || resourceType.startsWith('DB') || \n               resourceType.includes('Database')) {\n      return 'rds';\n    } else if (resourceType.startsWith('DynamoDB') || resourceType.includes('DynamoDB')) {\n      return 'dynamodb';\n    } else if (resourceType.startsWith('Lambda')) {\n      return 'lambda';\n    }\n    \n    // Log tipos desconhecidos para depuração\n    console.log('Tipo de recurso não categorizado:', resourceType);\n    return 'other';\n  };\n\n  // Set initial category from URL parameter\n  useEffect(() => {\n    if (categoryParam) {\n      setActiveCategory(categoryParam);\n    }\n  }, [categoryParam]);\n\n  // Effect to show notification messages when they're set\n  useEffect(() => {\n    if (cleanupMessage) setShowCleanupMessage(true);\n    if (iamScanMessage) setShowIamScanMessage(true);\n  }, [cleanupMessage, iamScanMessage]);\n\n  // Effect to load alerts when component mounts\n  useEffect(() => {\n    fetchAlerts();\n  }, [fetchAlerts]);\n\n  const activeAlerts = alerts.filter(a => a.status === 'active' || a.status === 'OPEN');\n  const criticalAlerts = activeAlerts.filter(a => a.severity === 'CRITICAL');\n  const highAlerts = activeAlerts.filter(a => a.severity === 'HIGH');\n  const mediumAlerts = activeAlerts.filter(a => a.severity === 'MEDIUM');\n  const lowAlerts = activeAlerts.filter(a => a.severity === 'LOW');\n\n  // Função auxiliar para remover duplicatas de alertas com base no ID\n  const removeDuplicateAlerts = useCallback((alertsList: Alert[]): Alert[] => {\n    const uniqueAlerts = new Map<string, Alert>();\n    \n    // Usa um Map para garantir que cada ID aparece apenas uma vez\n    // Se houver duplicatas, a última ocorrência será mantida\n    alertsList.forEach(alert => {\n      uniqueAlerts.set(alert.id, alert);\n    });\n    \n    return Array.from(uniqueAlerts.values());\n  }, []);\n\n  // Usar localAlerts em vez de alerts na renderização da lista\n  const filteredAlerts = useMemo(() => {\n    // Primeiro remove quaisquer duplicatas que possam existir\n    const uniqueAlerts = removeDuplicateAlerts(localAlerts);\n    \n    // Em seguida, aplica os filtros\n    return uniqueAlerts.filter(alert => {\n    // Filter by category\n    if (activeCategory !== 'all' && getAlertCategory(alert.resourceType) !== activeCategory) {\n      return false;\n    }\n    \n    // Filter by search term\n    if (searchTerm && !alert.title.toLowerCase().includes(searchTerm.toLowerCase()) && \n        !alert.description.toLowerCase().includes(searchTerm.toLowerCase()) &&\n        !alert.resourceId.toLowerCase().includes(searchTerm.toLowerCase()) &&\n        !alert.resourceType.toLowerCase().includes(searchTerm.toLowerCase())) {\n      return false;\n    }\n    \n    // Filter by severity\n    if (!severityFilters[alert.severity as keyof typeof severityFilters]) {\n      return false;\n    }\n    \n    // Filter by status (normalize 'active' to 'OPEN' for consistency)\n    const normalizedStatus = alert.status === 'active' ? 'OPEN' : alert.status;\n    \n    if (!statusFilters[normalizedStatus as keyof typeof statusFilters]) {\n      return false;\n    }\n    \n    return true;\n  });\n  }, [localAlerts, activeCategory, searchTerm, severityFilters, statusFilters, removeDuplicateAlerts]);\n\n  const handleDismiss = async (id: string) => {\n    setActionLoading(id);\n    await dismissAlert(id);\n    setActionLoading(null);\n  };\n\n  const handleResolve = async (id: string) => {\n    setActionLoading(id);\n    await resolveAlert(id);\n    setActionLoading(null);\n  };\n\n  const handleRefresh = async () => {\n    await handleManualRefresh();\n  };\n\n  const handleCleanupDuplicates = async () => {\n    if (window.confirm(\"Deseja remover todos os alertas duplicados? Esta ação não pode ser desfeita.\")) {\n      try {\n        setCleanupLoading(true);\n        setCleanupMessage(null);\n        \n        const response = await fetch('/api/alerts/cleanup', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        \n        if (!response.ok) {\n          const data = await response.json();\n          throw new Error(data.error || 'Erro ao limpar alertas duplicados');\n        }\n        \n        const result = await response.json();\n        setCleanupMessage(result.message);\n        setShowCleanupMessage(true);\n        \n        // Recarregar alertas em vez de recarregar a página inteira\n        await fetchAlerts();\n      } catch (error) {\n        setCleanupMessage(`Erro: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\n        setShowCleanupMessage(true);\n      } finally {\n        setCleanupLoading(false);\n      }\n    }\n  };\n  \n  // Função para limpar alertas de EC2\n  const handleCleanupEC2Alerts = async () => {\n    const confirmCleanup = window.confirm(\"Esta ação removerá todos os alertas de EC2 da plataforma. Deseja continuar?\");\n    \n    if (!confirmCleanup) return;\n    \n    setEc2CleanupLoading(true);\n    setCleanupMessage(null);\n    \n    try {\n      const response = await fetch(\"/api/alerts/ec2/cleanup\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      \n      if (response.ok) {\n        const result = await response.json();\n        setCleanupMessage(result.message);\n        setShowCleanupMessage(true);\n        handleRefresh();\n      } else {\n        const errorData = await response.json();\n        setCleanupMessage(`Erro ao limpar alertas de EC2: ${errorData.error || \"Erro desconhecido\"}`);\n        setShowCleanupMessage(true);\n      }\n    } catch (error: any) {\n      console.error(\"Erro ao limpar alertas de EC2:\", error);\n      setCleanupMessage(\"Erro ao limpar alertas de EC2: \" + (error.message || \"Erro desconhecido\"));\n      setShowCleanupMessage(true);\n    } finally {\n      setEc2CleanupLoading(false);\n    }\n  };\n\n  // Função para formatar o tipo de recurso para exibição\n  const formatResourceType = (resourceType: string): string => {\n    // Identificar o prefixo do serviço\n    let prefix = '';\n    let name = resourceType;\n    \n    if (resourceType.startsWith('IAM')) {\n      prefix = 'IAM';\n      name = resourceType.substring(3);\n    } else if (resourceType.startsWith('EC2')) {\n      prefix = 'EC2';\n      name = resourceType.substring(3);\n    } else if (resourceType.startsWith('S3')) {\n      prefix = 'S3';\n      name = resourceType.substring(2);\n    } else if (resourceType.startsWith('RDS')) {\n      prefix = 'RDS';\n      name = resourceType.substring(3);\n    } else if (resourceType.startsWith('DB')) {\n      prefix = 'DB';\n      name = resourceType.substring(2);\n    } else if (resourceType.startsWith('DynamoDB')) {\n      prefix = 'DynamoDB';\n      name = resourceType.substring(8);\n    } else if (resourceType.startsWith('Lambda')) {\n      prefix = 'Lambda';\n      name = resourceType.substring(6);\n    }\n    \n    // Se o nome começar com letra maiúscula e não tiver espaço, \n    // adiciona um espaço antes de cada letra maiúscula (exceto a primeira)\n    if (name.length > 0 && /^[A-Z]/.test(name) && !name.includes(' ')) {\n      name = name.replace(/([A-Z])/g, ' $1').trim();\n    }\n    \n    return prefix ? `${prefix}-${name}` : resourceType;\n  };\n\n  // Função para formatar o tipo de recurso para texto legível\n  const getResourceTypeText = (resourceType: string): string => {\n    switch (resourceType) {\n      case 'AccessKey':\n        return 'Chave de Acesso';\n      case 'IAMPolicy':\n        return 'Política IAM';\n      case 'IAMRole':\n        return 'Função IAM';\n      case 'IAMUser':\n        return 'Usuário IAM';\n      case 'SecretManager':\n        return 'Secret Manager';\n      case 'EC2Instance':\n        return 'Instância EC2';\n      case 'SecurityGroup':\n        return 'Grupo de Segurança';\n      case 'VPC':\n        return 'VPC';\n      case 'NetworkACL':\n        return 'ACL de Rede';\n      case 'ELB':\n        return 'Load Balancer';\n      case 'ENI':\n        return 'Interface de Rede';\n      case 'S3Bucket':\n        return 'Bucket S3';\n      case 'S3Object':\n        return 'Objeto S3';\n      case 'RDSInstance':\n        return 'Instância RDS';\n      case 'DBSecurityGroup':\n        return 'Grupo de Segurança BD';\n      default:\n        return formatResourceType(resourceType);\n    }\n  };\n\n  // Helper functions for severity and status\n  type SeverityType = 'CRITICAL' | 'HIGH' | 'MEDIUM' | 'LOW' | 'INFO';\n  type StatusType = 'OPEN' | 'IN_PROGRESS' | 'RESOLVED' | 'DISMISSED';\n\n  const getSeverityLabel = (severity: string) => {\n    const labels: Record<string, string> = {\n      'CRITICAL': 'Crítico',\n      'HIGH': 'Alto',\n      'MEDIUM': 'Médio',\n      'LOW': 'Baixo',\n      'INFO': 'Informativo'\n    };\n    return labels[severity] || severity;\n  };\n\n  const getStatusLabel = (status: string) => {\n    const labels: Record<string, string> = {\n      'OPEN': 'Aberto',\n      'IN_PROGRESS': 'Em Progresso',\n      'RESOLVED': 'Resolvido',\n      'DISMISSED': 'Ignorado'\n    };\n    return labels[status] || status;\n  };\n\n  // Funções de manipulação de UI\n  const handleResetFilters = () => {\n    setSeverityFilters({\n      'CRITICAL': true,\n      'HIGH': true,\n      'MEDIUM': true,\n      'LOW': true,\n      'INFO': true\n    });\n    \n    setStatusFilters({\n      'OPEN': true,\n      'IN_PROGRESS': true,\n      'RESOLVED': false,\n      'DISMISSED': false\n    });\n    \n    setTimeRange('week');\n    setSearchTerm('');\n  };\n\n  const handleToggleFilters = () => {\n    setShowFilters(!showFilters);\n  };\n\n  const handleCategoryChange = (category: string) => {\n    setActiveCategory(category);\n  };\n\n  // Funções para obter cores e cabeçalhos baseados na severidade\n  function getSeverityHeaderColor(severity: string): string {\n    switch (severity) {\n      case 'CRITICAL':\n        return 'bg-red-600';\n      case 'HIGH':\n        return 'bg-orange-500';\n      case 'MEDIUM':\n        return 'bg-yellow-500';\n      case 'LOW':\n        return 'bg-blue-500';\n      case 'INFO':\n        return 'bg-gray-500';\n      default:\n        return 'bg-gray-500';\n    }\n  }\n\n  // Funções para obter recomendações de mitigação baseadas no tipo de alerta\n  function getMitigationRecommendation(alert: Alert): string {\n    const resourceType = alert.resourceType;\n    \n    if (['AccessKey', 'IAMPolicy', 'IAMRole', 'IAMUser', 'SecretManager'].includes(resourceType)) {\n      return 'Este alerta está relacionado a vulnerabilidades de identidade e acesso na AWS. Recomendamos uma revisão das permissões e políticas para garantir que estejam alinhadas com o princípio de privilégio mínimo.';\n    } else if (['EC2Instance', 'SecurityGroup', 'VPC', 'NetworkACL', 'ELB', 'ENI'].includes(resourceType)) {\n      return 'Este alerta está relacionado a configurações de rede e computação que podem expor seus recursos a riscos de segurança. Recomendamos revisar e ajustar as configurações de acordo com as melhores práticas.';\n    } else if (['S3Bucket', 'S3Object'].includes(resourceType)) {\n      return 'Este alerta está relacionado a vulnerabilidades de armazenamento S3 que podem resultar em exposição de dados. Verifique as permissões de acesso e a configuração de criptografia para proteger seus dados.';\n    } else if (['RDSInstance', 'DBSecurityGroup'].includes(resourceType)) {\n      return 'Este alerta está relacionado a configurações de banco de dados que podem comprometer a segurança de seus dados. Recomendamos revisar as configurações de segurança e acesso ao banco de dados.';\n    } else {\n      return 'Este alerta indica uma possível vulnerabilidade de segurança em seu ambiente AWS. Recomendamos revisar a configuração do recurso afetado e aplicar as melhores práticas de segurança.';\n    }\n  }\n\n  // Função para obter passos de mitigação específicos baseados no alerta\n  function getMitigationSteps(alert: Alert): string[] {\n    const resourceType = alert.resourceType;\n    \n    if (['AccessKey', 'IAMUser'].includes(resourceType)) {\n      return [\n        'Revise as políticas de IAM anexadas ao usuário ou à chave de acesso',\n        'Verifique se o princípio de privilégio mínimo está sendo aplicado',\n        'Considere implementar a rotação automática de credenciais',\n        'Ative a autenticação multifator (MFA) para usuários com acesso ao console',\n        'Monitore regularmente atividades suspeitas usando o AWS CloudTrail'\n      ];\n    } else if (['IAMPolicy', 'IAMRole'].includes(resourceType)) {\n      return [\n        'Revise as políticas para remover permissões excessivas ou desnecessárias',\n        'Implemente condições nas políticas para restringir o acesso por IP, hora ou outros fatores',\n        'Considere usar políticas gerenciadas pela AWS quando apropriado',\n        'Implemente análise regular de permissões não utilizadas',\n        'Configure o AWS Access Analyzer para identificar recursos compartilhados externamente'\n      ];\n    } else if (['EC2Instance', 'SecurityGroup'].includes(resourceType)) {\n      return [\n        'Revise as regras de grupos de segurança para garantir que apenas as portas necessárias estejam abertas',\n        'Implemente o princípio de menor privilégio para as regras de entrada e saída',\n        'Configure o registro e monitoramento de atividades suspeitas',\n        'Mantenha as imagens do sistema operacional atualizadas',\n        'Considere implementar um host bastion para acessar instâncias privadas'\n      ];\n    } else if (['S3Bucket', 'S3Object'].includes(resourceType)) {\n      return [\n        'Desative o acesso público aos buckets S3 quando não necessário',\n        'Implemente políticas de bucket restritivas',\n        'Ative a criptografia em repouso para todos os objetos',\n        'Configure o registro de acesso ao bucket',\n        'Implemente o versionamento para proteger contra exclusão acidental'\n      ];\n    } else if (['RDSInstance', 'DBSecurityGroup'].includes(resourceType)) {\n      return [\n        'Garanta que as instâncias de banco de dados não sejam publicamente acessíveis',\n        'Implemente grupos de segurança restritivos para controlar o acesso',\n        'Ative a criptografia para dados em repouso e em trânsito',\n        'Configure backups automatizados e retenção adequada',\n        'Implemente a autenticação IAM para MySQL e PostgreSQL quando possível'\n      ];\n    } else {\n      return [\n        'Revise a configuração do recurso de acordo com as melhores práticas de segurança da AWS',\n        'Implemente o princípio de menor privilégio para controle de acesso',\n        'Configure o monitoramento e alertas para atividades suspeitas',\n        'Documente e atualize regularmente seus procedimentos de segurança',\n        'Realize revisões periódicas de segurança de sua infraestrutura'\n      ];\n    }\n  }\n\n  // Função para obter link de documentação baseado no tipo de alerta\n  function getDocumentationLink(alert: Alert): string {\n    const resourceType = alert.resourceType;\n    \n    if (['AccessKey', 'IAMPolicy', 'IAMRole', 'IAMUser', 'SecretManager'].includes(resourceType)) {\n      return 'https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html';\n    } else if (['EC2Instance', 'SecurityGroup', 'VPC', 'NetworkACL', 'ELB', 'ENI'].includes(resourceType)) {\n      return 'https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security.html';\n    } else if (['S3Bucket', 'S3Object'].includes(resourceType)) {\n      return 'https://docs.aws.amazon.com/AmazonS3/latest/userguide/security-best-practices.html';\n    } else if (['RDSInstance', 'DBSecurityGroup'].includes(resourceType)) {\n      return 'https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_BestPractices.Security.html';\n    } else {\n      return 'https://aws.amazon.com/security/security-resources/';\n    }\n  }\n\n  // Função para formatar a data para exibição\n  function formatDate(dateString: string): string {\n    try {\n      const date = new Date(dateString);\n      return new Intl.DateTimeFormat('pt-BR', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      }).format(date);\n    } catch (e) {\n      return dateString;\n    }\n  }\n\n  // Função para obter dados de alertas por data para o gráfico de tendência\n  function getAlertsByDate(alerts: Alert[]): { date: string; count: number }[] {\n    const dateMap = new Map<string, number>();\n    \n    // Agrupar alertas por data (dia)\n    alerts.forEach(alert => {\n      const date = new Date(alert.createdAt);\n      const dateKey = new Date(date.getFullYear(), date.getMonth(), date.getDate()).toISOString().split('T')[0];\n      \n      if (dateMap.has(dateKey)) {\n        dateMap.set(dateKey, dateMap.get(dateKey)! + 1);\n      } else {\n        dateMap.set(dateKey, 1);\n      }\n    });\n    \n    // Ordenar por data\n    const sortedEntries = Array.from(dateMap.entries()).sort((a, b) => {\n      return new Date(a[0]).getTime() - new Date(b[0]).getTime();\n    });\n    \n    // Limitar para os últimos 30 dias se houver muitos dados\n    const limitedEntries = sortedEntries.length > 30 \n      ? sortedEntries.slice(sortedEntries.length - 30) \n      : sortedEntries;\n    \n    // Formatar para o gráfico\n    return limitedEntries.map(([date, count]) => {\n      return {\n        date: new Date(date).toLocaleDateString('pt-BR'),\n        count\n      };\n    });\n  }\n\n  // Função para limpar TODOS os alertas (nova funcionalidade)\n  const handleCleanupAllAlerts = async () => {\n    if (window.confirm(\"Esta ação removerá TODOS os alertas do sistema. Esta operação não pode ser desfeita. Deseja continuar?\")) {\n      try {\n        setCleanupLoading(true);\n        setCleanupMessage(null);\n        \n        const response = await fetch('/api/alerts/cleanup/all', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        \n        if (!response.ok) {\n          const data = await response.json();\n          throw new Error(data.error || 'Erro ao limpar todos os alertas');\n        }\n        \n        const result = await response.json();\n        setCleanupMessage(result.message);\n        setShowCleanupMessage(true);\n        \n        // Recarregar alertas em vez de recarregar a página inteira\n        await fetchAlerts();\n      } catch (error) {\n        setCleanupMessage(`Erro: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\n        setShowCleanupMessage(true);\n      } finally {\n        setCleanupLoading(false);\n      }\n    }\n  };\n\n  // Efeito para garantir que o modal permaneça aberto quando os alertas mudam\n  useEffect(() => {\n    if (showModal && alertDetailsModal) {\n      // Se o alerta selecionado não estiver mais presente nos alertas, podemos buscar novamente\n      const alertStillExists = alerts.some(a => a.id === alertDetailsModal.id);\n      \n      if (!alertStillExists) {\n        // Opção 1: Manter o modal aberto mesmo assim\n        console.log(\"Alerta no modal não encontrado mais na lista, mas mantendo aberto\");\n        \n        // Opção 2 (alternativa): Fechar o modal se o alerta não existir mais\n        // console.log(\"Alerta no modal não encontrado mais na lista, fechando modal\");\n        // handleCloseModal();\n      }\n    }\n  }, [alerts, showModal, alertDetailsModal]);\n\n  return (\n    <div className=\"container px-2 py-4 mx-auto max-w-full h-screen flex flex-col\">\n      {/* Mensagem de limpeza flutuante */}\n      <AnimatePresence>\n        {showCleanupMessage && (\n          <motion.div \n            initial={{ opacity: 0, y: -50 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -50 }}\n            className=\"fixed top-6 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center\"\n            style={{ maxWidth: '90vw' }}\n          >\n            <InformationCircleIcon className=\"h-5 w-5 mr-2 text-indigo-400\" />\n            <span>{cleanupMessage}</span>\n            <button \n              onClick={() => setShowCleanupMessage(false)} \n              className=\"ml-3 text-gray-400 hover:text-white\"\n            >\n              <XMarkIcon className=\"h-5 w-5\" />\n            </button>\n          </motion.div>\n        )}\n      </AnimatePresence>\n        \n      {/* Mensagem de scan IAM */}\n      <AnimatePresence>\n        {showIamScanMessage && (\n          <motion.div \n            initial={{ opacity: 0, y: -50 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -50 }}\n            className=\"fixed top-6 left-1/2 transform -translate-x-1/2 bg-yellow-900 text-yellow-200 px-6 py-3 rounded-lg shadow-lg z-50 flex items-center\"\n            style={{ maxWidth: '90vw' }}\n          >\n            <InformationCircleIcon className=\"h-5 w-5 mr-2 text-yellow-400\" />\n            <span>{iamScanMessage}</span>\n            <button \n              onClick={() => setShowIamScanMessage(false)} \n              className=\"ml-3 text-yellow-400 hover:text-white\"\n            >\n              <XMarkIcon className=\"h-5 w-5\" />\n            </button>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Cabeçalho da página com título e ações */}\n      <div className=\"mb-4\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold tracking-tight text-indigo-600 dark:text-indigo-400\">\n              Análise de Segurança AWS\n            </h1>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Monitore vulnerabilidades e configurações de segurança em sua infraestrutura\n            </p>\n          </div>\n          \n          {/* Botões de ação agrupados à direita */}\n          <div className=\"flex space-x-2\">\n            {/* Botão de Auto-Refresh com indicador de status */}\n            <div className=\"relative\">\n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={toggleAutoRefresh}\n                className={`px-3 py-2 rounded-lg shadow-sm flex items-center font-medium text-sm transition-colors duration-200 ${\n                  autoRefresh \n                    ? 'bg-green-700/80 dark:bg-green-900/50 text-green-50 dark:text-green-300 hover:bg-green-600 dark:hover:bg-green-900/70' \n                    : 'bg-gray-200 dark:bg-gray-800/50 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700/70'\n                  }`}\n              >\n                <Clock className={`h-4 w-4 mr-2 ${autoRefresh ? 'animate-pulse' : ''}`} />\n                {autoRefresh ? `Auto (${refreshInterval}s)` : 'Auto Off'}\n                {autoRefresh && (\n                  <span className=\"ml-2 relative flex h-2 w-2\">\n                    <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75\"></span>\n                    <span className=\"relative inline-flex rounded-full h-2 w-2 bg-green-500\"></span>\n                  </span>\n                )}\n                <span className=\"w-5\"></span>\n              </motion.button>\n              \n              <div \n                onClick={toggleRefreshMenu}\n                className=\"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-black/10 dark:hover:bg-black/20 transition-colors cursor-pointer\"\n              >\n                <Settings className=\"h-3 w-3 text-current opacity-70\" />\n              </div>\n              \n              {showRefreshMenu && (\n                <div className=\"absolute right-0 top-10 mt-1 w-48 bg-white dark:bg-gray-800 shadow-lg rounded-md z-10 border border-gray-200 dark:border-gray-700\">\n                  <div className=\"p-2\">\n                    <h4 className=\"text-sm font-semibold mb-2 text-gray-700 dark:text-gray-300\">Intervalo de Atualização</h4>\n                    <div className=\"space-y-1\">\n                      {[15, 30, 60, 120, 300].map((seconds) => (\n                        <button\n                          key={seconds}\n                          className={`w-full text-left px-3 py-1.5 text-sm rounded-md ${\n                            refreshInterval === seconds\n                              ? 'bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-400'\n                              : 'hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300'\n                          }`}\n                          onClick={() => setRefreshRate(seconds)}\n                        >\n                          {seconds < 60 ? `${seconds} segundos` : `${seconds / 60} ${seconds === 60 ? 'minuto' : 'minutos'}`}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n            \n            {/* Botão para escanear vulnerabilidades */}\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={(e) => runUnifiedBackgroundScan(true)}\n              className=\"bg-indigo-600 text-white px-3 py-2 rounded-lg shadow-sm hover:bg-indigo-700 transition-colors duration-200 flex items-center font-medium text-sm\"\n              disabled={scanning}\n            >\n              {scanning ? (\n                <>\n                  <SpinnerIcon className=\"animate-spin h-4 w-4 mr-2\" />\n                  Escaneando...\n                </>\n              ) : (\n                <>\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\n                  Escanear Vulnerabilidades\n                </>\n              )}\n            </motion.button>\n            \n            {/* Botão para limpar duplicatas */}\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={handleCleanupDuplicates}\n              className=\"bg-amber-600 text-white px-3 py-2 rounded-lg shadow-sm hover:bg-amber-700 transition-colors duration-200 flex items-center font-medium text-sm\"\n              disabled={cleanupLoading}\n            >\n              {cleanupLoading ? (\n                <>\n                  <SpinnerIcon className=\"animate-spin h-4 w-4 mr-2\" />\n                  Limpando...\n                </>\n              ) : (\n                <>\n                  <Eraser className=\"h-4 w-4 mr-2\" />\n                  Limpar Duplicados\n                </>\n              )}\n            </motion.button>\n            \n            {/* Botão para limpar TODOS os alertas */}\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={handleCleanupAllAlerts}\n              className=\"bg-pink-600 text-white px-3 py-2 rounded-lg shadow-sm hover:bg-pink-700 transition-colors duration-200 flex items-center font-medium text-sm\"\n              disabled={cleanupLoading}\n            >\n              {cleanupLoading ? (\n                <>\n                  <SpinnerIcon className=\"animate-spin h-4 w-4 mr-2\" />\n                  Limpando...\n                </>\n              ) : (\n                <>\n                  <TrashIcon className=\"h-4 w-4 mr-2\" />\n                  Limpar Alertas\n                </>\n              )}\n            </motion.button>\n          </div>\n        </div>\n        \n        {/* Mensagem de erro/aviso quando não há credenciais selecionadas */}\n        {!selectedCredential?.id ? (\n          <motion.div \n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 text-amber-800 dark:text-amber-30 rounded-lg p-3 mt-3 mx-auto\"\n          >\n            <div className=\"flex items-start\">\n              <ExclamationTriangleIcon className=\"h-5 w-5 mr-3 text-amber-500 flex-shrink-0\" />\n              <div>\n                <h3 className=\"text-sm font-medium mb-1\">Nenhuma credencial AWS selecionada</h3>\n                <p className=\"text-xs\">\n                  Para visualizar os alertas de segurança, selecione uma credencial AWS válida no menu superior.\n                </p>\n                <div className=\"mt-2\">\n                  <Link href=\"/dashboard/credentials\" className=\"inline-flex items-center px-3 py-1 bg-amber-100 dark:bg-amber-800 text-amber-800 dark:text-amber-200 rounded-md text-xs font-medium hover:bg-amber-200 dark:hover:bg-amber-700 transition-colors\">\n                    <KeyIcon className=\"h-3 w-3 mr-1\" />\n                    Gerenciar Credenciais\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        ) : null}\n        \n        {/* Filtros */}\n        <div className=\"mt-3\">\n          <button\n            onClick={handleToggleFilters}\n            className=\"flex items-center text-sm text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors mb-2\"\n          >\n            <Filter className=\"h-4 w-4 mr-1\" />\n            Filtros\n            {showFilters ? (\n              <ChevronDown className=\"h-4 w-4 ml-1 transform rotate-180\" />\n            ) : (\n              <ChevronDown className=\"h-4 w-4 ml-1\" />\n            )}\n          </button>\n          \n          {showFilters && (\n            <motion.div\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: 'auto' }}\n              exit={{ opacity: 0, height: 0 }}\n              className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-3 mb-3\"\n            >\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                {/* Filtro de Severidade */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Severidade\n                  </label>\n                  <div className=\"space-y-1\">\n                    {['CRITICAL', 'HIGH', 'MEDIUM', 'LOW'].map((sev) => (\n                      <div key={sev} className=\"flex items-center\">\n                        <input\n                          id={`filter-severity-${sev}`}\n                          type=\"checkbox\"\n                          checked={severityFilter.includes(sev as SeverityType)}\n                          onChange={() => toggleSeverityFilter(sev as SeverityType)}\n                          className=\"h-3 w-3 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600\"\n                        />\n                        <label htmlFor={`filter-severity-${sev}`} className=\"ml-2 text-xs text-gray-700 dark:text-gray-300\">\n                          {getSeverityLabel(sev)}\n                        </label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                \n                {/* Filtro de Período */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Período\n                  </label>\n                  <div className=\"space-y-1\">\n                    <div className=\"flex items-center\">\n                      <input\n                        id=\"filter-date-week\"\n                        type=\"radio\"\n                        checked={timeRange === 'week'}\n                        onChange={() => setTimeRange('week')}\n                        className=\"h-3 w-3 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600\"\n                      />\n                      <label htmlFor=\"filter-date-week\" className=\"ml-2 text-xs text-gray-700 dark:text-gray-300\">\n                        Últimos 7 dias\n                      </label>\n                    </div>\n                    <div className=\"flex items-center\">\n                      <input\n                        id=\"filter-date-month\"\n                        type=\"radio\"\n                        checked={timeRange === 'month'}\n                        onChange={() => setTimeRange('month')}\n                        className=\"h-3 w-3 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600\"\n                      />\n                      <label htmlFor=\"filter-date-month\" className=\"ml-2 text-xs text-gray-700 dark:text-gray-300\">\n                        Últimos 30 dias\n                      </label>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Pesquisa */}\n                <div className=\"md:col-span-2\">\n                  <div className=\"relative\">\n                    <div className=\"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none\">\n                      <MagnifyingGlassIcon className=\"h-4 w-4 text-gray-400\" />\n                    </div>\n                    <input\n                      type=\"text\"\n                      className=\"block w-full pl-8 pr-3 py-1.5 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm\"\n                      placeholder=\"Pesquisar alertas...\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"mt-1 flex justify-end\">\n                    <button\n                      onClick={handleResetFilters}\n                      className=\"text-xs text-indigo-500 hover:text-indigo-700\"\n                    >\n                      Limpar Filtros\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </div>\n      </div>\n\n      {/* Conteúdo Principal - flexível para ocupar espaço restante */}\n      <div className=\"flex-grow flex flex-col min-h-0\">\n        {loading ? (\n          <div className=\"flex justify-center items-center flex-grow\">\n            <div className=\"text-center\">\n              <SpinnerIcon className=\"animate-spin h-10 w-10 text-indigo-500 mx-auto mb-4\" />\n              <p className=\"text-gray-500 dark:text-gray-400\">Carregando alertas de segurança...</p>\n            </div>\n          </div>\n        ) : error ? (\n          <div className=\"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded\">\n            <p className=\"font-bold\">Erro ao carregar alertas</p>\n            <p>{error}</p>\n          </div>\n        ) : (\n          <div className=\"flex flex-col flex-grow min-h-0\">\n            {/* Resumo de Alertas */}\n            <div className=\"grid grid-cols-5 gap-2 mb-3\">\n              <div className=\"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg border border-gray-100 dark:border-gray-600 flex items-center\">\n                <div className=\"bg-gray-200 dark:bg-gray-600 p-1.5 rounded-lg mr-2\">\n                  <AlertOctagon className=\"h-4 w-4 text-gray-500 dark:text-gray-400\" />\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400\">Total</p>\n                  <p className=\"text-lg font-bold text-gray-900 dark:text-white\">{alerts.length}</p>\n                </div>\n              </div>\n              <div className=\"bg-red-50 dark:bg-red-900/20 p-2 rounded-lg border border-red-100 dark:border-red-800/50 flex items-center\">\n                <div className=\"bg-red-200 dark:bg-red-800/50 p-1.5 rounded-lg mr-2\">\n                  <AlertCircle className=\"h-4 w-4 text-red-600 dark:text-red-400\" />\n                </div>\n                <div>\n                  <p className=\"text-xs text-red-600 dark:text-red-400\">Críticos</p>\n                  <p className=\"text-lg font-bold text-red-700 dark:text-red-300\">{alerts.filter(a => a.severity === 'CRITICAL').length}</p>\n                </div>\n              </div>\n              <div className=\"bg-orange-50 dark:bg-orange-900/20 p-2 rounded-lg border border-orange-100 dark:border-orange-800/50 flex items-center\">\n                <div className=\"bg-orange-200 dark:bg-orange-800/50 p-1.5 rounded-lg mr-2\">\n                  <AlertTriangle className=\"h-4 w-4 text-orange-600 dark:text-orange-400\" />\n                </div>\n                <div>\n                  <p className=\"text-xs text-orange-600 dark:text-orange-400\">Altos</p>\n                  <p className=\"text-lg font-bold text-orange-700 dark:text-orange-300\">{alerts.filter(a => a.severity === 'HIGH').length}</p>\n                </div>\n              </div>\n              <div className=\"bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded-lg border border-yellow-100 dark:border-yellow-800/50 flex items-center\">\n                <div className=\"bg-yellow-200 dark:bg-yellow-800/50 p-1.5 rounded-lg mr-2\">\n                  <AlertOctagon className=\"h-4 w-4 text-yellow-600 dark:text-yellow-400\" />\n                </div>\n                <div>\n                  <p className=\"text-xs text-yellow-600 dark:text-yellow-400\">Médios</p>\n                  <p className=\"text-lg font-bold text-yellow-700 dark:text-yellow-300\">{alerts.filter(a => a.severity === 'MEDIUM').length}</p>\n                </div>\n              </div>\n              <div className=\"bg-blue-50 dark:bg-blue-900/20 p-2 rounded-lg border border-blue-100 dark:border-blue-800/50 flex items-center\">\n                <div className=\"bg-blue-200 dark:bg-blue-800/50 p-1.5 rounded-lg mr-2\">\n                  <Info className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\n                </div>\n                <div>\n                  <p className=\"text-xs text-blue-600 dark:text-blue-400\">Baixos</p>\n                  <p className=\"text-lg font-bold text-blue-700 dark:text-blue-300\">{alerts.filter(a => a.severity === 'LOW').length}</p>\n                </div>\n              </div>\n            </div>\n            \n            {/* Lista de Alertas - flex-grow para ocupar o espaço restante */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-100 dark:border-gray-700 flex-grow flex flex-col min-h-0\">\n              <div className=\"p-3 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center\">\n                <div>\n                  <h2 className=\"text-lg font-bold text-gray-900 dark:text-white\">Alertas de Segurança</h2>\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\n                    {filteredAlerts.length} \n                    {filteredAlerts.length === 1 ? ' alerta encontrado' : ' alertas encontrados'}\n                    {autoRefresh && (\n                      <span className=\"ml-2 text-indigo-500 dark:text-indigo-400\">\n                        • Atualização automática ativa\n                      </span>\n                    )}\n                  </p>\n                </div>\n              </div>\n              \n              {filteredAlerts.length === 0 ? (\n                <div className=\"p-8 text-center flex-grow flex items-center justify-center\">\n                  <motion.div\n                    initial={{ opacity: 0, scale: 0.8 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    <ExclamationTriangleIcon className=\"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">Nenhum alerta encontrado</h3>\n                    <p className=\"text-gray-500 dark:text-gray-400 max-w-md mx-auto\">\n                      {!selectedCredential?.id\n                        ? \"Selecione uma credencial AWS válida para visualizar os alertas de segurança.\"\n                        : \"Não foram encontrados alertas com os filtros atuais. Tente ajustar os filtros ou realizar uma nova verificação de segurança.\"}\n                    </p>\n                    {selectedCredential?.id && (\n                      <button\n                        onClick={handleRefresh}\n                        className=\"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                      >\n                        <ArrowPathIcon className=\"h-4 w-4 mr-2\" />\n                        Atualizar Alertas\n                      </button>\n                    )}\n                  </motion.div>\n                </div>\n              ) : (\n                <div className=\"overflow-auto flex-grow\">\n                  <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                    <thead className=\"bg-gray-50 dark:bg-gray-900/50 sticky top-0 z-10\">\n                      <tr>\n                        <th scope=\"col\" className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                          Severidade\n                        </th>\n                        <th scope=\"col\" className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                          Título\n                        </th>\n                        <th scope=\"col\" className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                          Recurso\n                        </th>\n                        <th scope=\"col\" className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                          Detectado em\n                        </th>\n                        <th scope=\"col\" className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                          Status\n                        </th>\n                        <th scope=\"col\" className=\"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                          Ações\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                      {filteredAlerts.map((alert) => (\n                        <motion.tr \n                          key={alert.id} \n                          initial={highlightedAlerts.includes(alert.id) ? { backgroundColor: '#4f46e533' } : {}}\n                          animate={{ backgroundColor: 'transparent' }}\n                          transition={{ duration: 2.5 }}\n                          onClick={() => handleOpenModal(alert)}\n                          className=\"hover:bg-gray-50 dark:hover:bg-gray-700/30 cursor-pointer\"\n                        >\n                          <td className=\"px-4 py-3 whitespace-nowrap\">\n                            <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium capitalize ${\n                              alert.severity === 'CRITICAL' ? 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300' :\n                              alert.severity === 'HIGH' ? 'bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300' :\n                              alert.severity === 'MEDIUM' ? 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300' :\n                              alert.severity === 'LOW' ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300' :\n                              'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300'\n                            }`}>\n                              {getSeverityLabel(alert.severity)}\n                            </span>\n                          </td>\n                          <td className=\"px-4 py-3\">\n                            <div className=\"text-sm text-gray-900 dark:text-gray-100 font-medium truncate max-w-xs\">\n                              {alert.title}\n                            </div>\n                            <div className=\"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs\">\n                              {alert.description.length > 80 \n                                ? `${alert.description.slice(0, 80)}...` \n                                : alert.description}\n                            </div>\n                          </td>\n                          <td className=\"px-4 py-3 whitespace-nowrap\">\n                            <div className=\"text-sm text-gray-900 dark:text-gray-100\">\n                              {formatResourceType(alert.resourceType)}\n                            </div>\n                            <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                              {alert.resourceId?.length > 15 \n                                ? `${alert.resourceId.slice(0, 15)}...` \n                                : alert.resourceId}\n                            </div>\n                          </td>\n                          <td className=\"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                            {formatDate(alert.createdAt)}\n                          </td>\n                          <td className=\"px-4 py-3 whitespace-nowrap\">\n                            <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${getStatusBadgeColor(alert.status)}`}>\n                              {getStatusLabel(alert.status)}\n                            </span>\n                          </td>\n                          <td className=\"px-4 py-3 whitespace-nowrap text-right text-sm font-medium\">\n                            <div className=\"flex items-center justify-end space-x-2\">\n                              <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  handleDismiss(alert.id);\n                                }}\n                                className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\n                                title=\"Descartar\"\n                              >\n                                <XCircle className=\"h-4 w-4\" />\n                              </button>\n                              <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  handleResolve(alert.id);\n                                }}\n                                className=\"text-green-500 hover:text-green-600 dark:hover:text-green-400\"\n                                title=\"Marcar como resolvido\"\n                              >\n                                <CheckCircle className=\"h-4 w-4\" />\n                              </button>\n                            </div>\n                          </td>\n                        </motion.tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Modal de detalhes do alerta */}\n      {showModal && alertDetailsModal && (\n        <div\n          className=\"fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50 flex items-center justify-center p-4\"\n          onClick={() => handleCloseModal()} // Fechar apenas ao clicar no fundo\n        >\n          <motion.div\n            initial={{ opacity: 0, y: 50 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 50 }}\n            transition={{ duration: 0.2 }}\n            className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\"\n            onClick={(e) => e.stopPropagation()} // Impedir que cliques dentro do modal propaguem\n          >\n            {/* Cabeçalho com cor baseada na severidade */}\n            <div className={`px-4 py-4 sm:px-6 ${getSeverityHeaderColor(alertDetailsModal.severity)}`}>\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\n                  {alertDetailsModal.title}\n                </h3>\n                <button\n                  type=\"button\"\n                  className=\"bg-transparent rounded-md text-gray-400 hover:text-gray-500 focus:outline-none\"\n                  onClick={(e) => handleCloseModal(e)}\n                >\n                  <span className=\"sr-only\">Fechar</span>\n                  <XMarkIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Corpo com os detalhes */}\n            <div className=\"px-4 py-5 sm:p-6 grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-2\">\n              {/* Badges de severidade e status */}\n              <div className=\"col-span-2 flex flex-wrap gap-2 mb-4\">\n                <span\n                  className={`inline-flex items-center gap-x-1.5 rounded-full px-2.5 py-1 text-xs font-medium capitalize ${\n                    alertDetailsModal.severity === 'CRITICAL' ? 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300' :\n                    alertDetailsModal.severity === 'HIGH' ? 'bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300' :\n                    alertDetailsModal.severity === 'MEDIUM' ? 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300' :\n                    alertDetailsModal.severity === 'LOW' ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300' :\n                    'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300'\n                  }`}\n                >\n                  {getSeverityLabel(alertDetailsModal.severity)}\n                </span>\n\n                <span\n                  className={`inline-flex items-center gap-x-1.5 rounded-full px-2.5 py-1 text-xs font-medium ${getStatusBadgeColor(alertDetailsModal.status)}`}\n                >\n                  {getStatusLabel(alertDetailsModal.status)}\n                </span>\n              </div>\n\n              {/* Tipo de recurso */}\n              <div>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Tipo de recurso</p>\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white mt-1\">{formatResourceType(alertDetailsModal.resourceType)}</p>\n              </div>\n\n              {/* ID do recurso */}\n              <div>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">ID do recurso</p>\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white mt-1 overflow-ellipsis overflow-hidden\">{alertDetailsModal.resourceId}</p>\n              </div>\n\n              {/* Data de detecção */}\n              <div>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Detectado em</p>\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white mt-1\">{formatDate(alertDetailsModal.createdAt)}</p>\n              </div>\n\n              {/* Descrição - ocupa toda a largura */}\n              <div className=\"col-span-2\">\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Descrição</p>\n                <p className=\"text-sm text-gray-900 dark:text-white mt-1\">{alertDetailsModal.description}</p>\n              </div>\n\n              {/* Recomendação - ocupa toda a largura */}\n              <div className=\"col-span-2\">\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Recomendação</p>\n                <p className=\"text-sm text-gray-900 dark:text-white mt-1\">{getMitigationRecommendation(alertDetailsModal)}</p>\n              </div>\n\n              {/* Passos para mitigação - ocupa toda a largura */}\n              <div className=\"col-span-2\">\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Passos para mitigação</p>\n                <ul className=\"mt-1 space-y-2\">\n                  {getMitigationSteps(alertDetailsModal).map((step, index) => (\n                    <li key={index} className=\"text-sm text-gray-900 dark:text-white flex items-start\">\n                      <span className=\"mr-2 text-sm text-indigo-600 dark:text-indigo-400\">•</span> {step}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n\n              {/* Link para documentação - se existir */}\n              {getDocumentationLink(alertDetailsModal) && (\n                <div className=\"col-span-2 mt-2\">\n                  <a\n                    href={getDocumentationLink(alertDetailsModal)}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"inline-flex items-center text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300\"\n                  >\n                    <ExternalLink className=\"h-4 w-4 mr-1\" />\n                    Ver documentação de referência\n                  </a>\n                </div>\n              )}\n            </div>\n\n            {/* Rodapé com botões de ação - Modificados para evitar fechamento acidental */}\n            <div className=\"px-4 py-4 sm:px-6 flex justify-end gap-3 border-t border-gray-200 dark:border-gray-700\">\n              <button\n                type=\"button\"\n                className=\"inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition\"\n                onClick={(e) => {\n                  e.stopPropagation(); // Impedir propagação\n                  handleResolve(alertDetailsModal.id);\n                  setTimeout(() => handleCloseModal(), 300); // Atrasar fechamento para feedback visual\n                }}\n              >\n                <Check className=\"h-4 w-4 mr-1\" /> Marcar como resolvido\n              </button>\n              <button\n                type=\"button\"\n                className=\"inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition\"\n                onClick={(e) => {\n                  e.stopPropagation(); // Impedir propagação\n                  handleDismiss(alertDetailsModal.id);\n                  setTimeout(() => handleCloseModal(), 300); // Atrasar fechamento para feedback visual\n                }}\n              >\n                <Slash className=\"h-4 w-4 mr-1\" /> Descartar alerta\n              </button>\n            </div>\n          </motion.div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}